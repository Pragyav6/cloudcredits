{% extends 'base.html' %}
{% block content %}
<div class="auth-section">
    <div class="curved-bg pink-bg"></div>
    <div class="auth-container">
        <h2 class="auth-title">Create Account :)</h2>
        <form method="POST">
            <div class="mb-3">
                <label>Username:</label>
                <input type="text" name="username" placeholder="Create Username" required>
            </div>
            <div class="mb-3">
                <label>Password:</label>
                <input type="password" name="password" id="password" placeholder="Create Password" required onkeyup="checkStrength(this.value)">
            </div>
            
            
            <div id="strengthMessage" class="strength-text">Password strength: -</div>
            <button type="submit" class="auth-button">Sign Up</button>
            <p class="mt-3 text-center"><a href="{{ url_for('login') }}">Already have an account?</a></p>
        </form>
    </div>
</div>

<script>
function checkStrength(password) {
    let strengthText = document.getElementById("strengthMessage");
    let strength = 0;

    if (password.length >= 6) strength++;
    if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
    if (/\d/.test(password)) strength++;
    if (/[@$!%*?&]/.test(password)) strength++;

    if (password.length === 0) {
        strengthText.innerHTML = "Password strength: -";
        strengthText.style.color = "black";
    } else if (strength <= 1) {
        strengthText.innerHTML = "Password strength: Weak";
        strengthText.style.color = "red";
    } else if (strength === 2 || strength === 3) {
        strengthText.innerHTML = "Password strength: Medium";
        strengthText.style.color = "orange";
    } else {
        strengthText.innerHTML = "Password strength: Strong";
        strengthText.style.color = "green";
    }
}
</script>

<style>
.strength-text {
    font-weight: bold;
    margin-bottom: 10px;
}
</style>
{% endblock %}
